<!DOCTYPE html>
<html class="no-js">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0" />

  <title>Middleman snippets | Josh Fry </title>
  <meta content="Snippets 'n stuff for ERB templating in Middleman." name="description" />

  <script type="text/javascript" src="//use.typekit.net/maf0twb.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

  <link href="/assets/scss/all.css" rel="stylesheet" type="text/css" />
  

  <!--<script src="/assets/js/libs/modernizr-custom.js"></script>-->
</head>
<body class="blog blog_2014 blog_2014_06 blog_2014_06_05 blog_2014_06_05_middleman-snippets blog_2014_06_05_middleman-snippets_index">

  <header class="site-header" role="banner">
    <div class="container">
      <div style="width: 150px">
        <img src="/assets/img/josh-standard-trans.png" alt="">
      </div>
      <h1 class="j"><a href="/">JOSH FRY</a></h1>
      <p class="h light">Web developer and designer</p>
    </div>
  </header>

  <main class="site-main" role="main">
    <div class="container">

      <h1>middleman snippets</h1>

      <h2 id="list-all-child-pages">List all child pages</h2>

<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td><td class="code"><pre><span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sx">% current_page.children.each </span><span class="k">do</span> <span class="o">|</span><span class="n">page</span><span class="o">|</span> <span class="sx">%&gt;
  &lt;li&gt;</span><span class="o">&lt;</span><span class="sx">%= link_to page.data.title, page.url %&gt;&lt;/li&gt;
&lt;% end %&gt;
&lt;/ul&gt;
</span></pre></td></tr></tbody></table>
</div>

<h2 id="list-pages-in-a-specific-directory-with-a-specific-tag">List pages in a specific directory with a specific tag</h2>

<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7</pre></td><td class="code"><pre><span class="o">&lt;</span><span class="sx">% sitemap.resources.each </span><span class="k">do</span> <span class="o">|</span><span class="n">page</span><span class="o">|</span> <span class="sx">%&gt;
  &lt;% if page.url =~ /^(\/styleguide\/)/ &amp;&amp; page.data.tags == 'pattern' %&gt;</span>

    <span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;&lt;</span><span class="sx">%= link_to page.data.title, page.url %&gt;

  &lt;% end %&gt;
&lt;% end %&gt;
</span></pre></td></tr></tbody></table>
</div>

<h2 id="art-direction-and-page-specific-css-amp-js">Art direction and page-specific CSS &amp; JS</h2>

<h4 id="in-layout-file">In layout file</h4>

<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre><span class="sr">//</span> <span class="k">in</span> <span class="n">the</span> <span class="n">head</span>
<span class="o">&lt;</span><span class="sx">%= yield_content :css %&gt;
// at the bottom
&lt;%=</span> <span class="n">yield_content</span> <span class="ss">:js</span> <span class="sx">%&gt;
</span></pre></td></tr></tbody></table>
</div>

<h4 id="on-the-page">On the page</h4>

<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13</pre></td><td class="code"><pre><span class="o">&lt;</span><span class="sx">% content_for </span><span class="p">:</span><span class="n">css</span> <span class="k">do</span> <span class="sx">%&gt;
&lt;style&gt;</span>

<span class="o">&lt;</span><span class="sr">/style&gt;
&lt;% end %&gt;

&lt;% content_for :js do %&gt;
&lt;script&gt;
  (function($){

  })(jQuery);
&lt;/s</span><span class="n">cript</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sx">% end </span><span class="o">%&gt;</span>
</pre></td></tr></tbody></table>
</div>

<h2 id="title-and-meta-description">Title and (meta) description</h2>

<div class="highlight html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="nt">&lt;title&gt;</span><span class="err">&lt;</span>%= (current_page.data.page_title || current_page.data.title).titleize %&gt; | <span class="err">&lt;</span>%= data.site.name %&gt; <span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">content=</span><span class="s">"&lt;%= current_page.data.description || data.site.description %&gt;"</span> <span class="na">name=</span><span class="s">"description"</span> <span class="nt">/&gt;</span>
</pre></td></tr></tbody></table>
</div>

<h2 id="body-classes">Body classes</h2>

<div class="highlight html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="nt">&lt;body</span> <span class="na">class=</span><span class="s">"&lt;%= page_classes %&gt; &lt;%= current_page.data.layout %&gt;"</span><span class="nt">&gt;</span>
</pre></td></tr></tbody></table>
</div>


      <aside>
        <nav class="social">
          <ul>
            <li><a href="http://twitter.com/joshfry" class="twitter" target="_blank">
              <i class="fa fa-twitter"></i>
              <span>Twitter</span></a>
            </li>
            <li><a href="http://github.com/joshfry" class="github" target="_blank">
              <i class="fa fa-github"></i>
              <span>GitHub</span></a>
            </li>
            <li><a href="http://codepen.io/joshfry" class="codepen" target="_blank">
              <i class="fa fa-codepen"></i>
              <span>Codepen</span></a>
            </li>
            <li><a href="https://dribbble.com/joshfry" class="dribbble" target="_blank">
              <i class="fa fa-dribbble"></i>
              <span>Dribbble</span></a>
            </li>
            <li><a href="https://www.facebook.com/josh.fry.35513" class="facebook" target="_blank">
              <i class="fa fa-facebook"></i>
              <span>Facebook</span></a>
            </li>
          </ul>
        </nav>
      </aside>
    </div>
  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="container">
      <p class="copyright">Â© 2015 | Made by <a href="http://twitter.com/joshfry">@joshfry</a></p>
    </div>
  </footer>

  <script src="/assets/js/all.js" type="text/javascript"></script>
  

  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30007230-1']);
  _gaq.push(['_setDomainName', 'joshfry.me']);
  _gaq.push(['_trackPageview']);

  (function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</body>
</html>
